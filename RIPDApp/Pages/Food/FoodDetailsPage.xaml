<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:RIPDApp.ViewModels"
             xmlns:m="clr-namespace:RIPDShared.Models;assembly=RIPDShared"
             xmlns:v="clr-namespace:RIPDApp.Views"
             x:Class="RIPDApp.Pages.FoodDetailsPage"
             x:DataType="vm:FoodDetailsVM">
  <Grid RowDefinitions="auto,*,auto">

    <VerticalStackLayout Grid.Row="0">
      <Image Source="{Binding Food.Image}"/>
      <Label Text="{Binding Food.Name}"
             FontSize="Header"/>
      <Label Text="{Binding Food.Manufacturer}"
             FontSize="Subtitle"/>
      <FlexLayout>
        <DatePicker/>
        <Entry Placeholder="Amount"
               IsVisible="{Binding AddEntryMode}"
               FlexLayout.Grow="1"/>
      </FlexLayout>

    </VerticalStackLayout>
    <ScrollView Grid.Row="1">
      <CollectionView ItemsSource="{Binding FoodProperties.Members}">
        <CollectionView.ItemTemplate>
          <DataTemplate>
            <SwipeView>
              <v:ListPropV/>
            </SwipeView>
          </DataTemplate>
        </CollectionView.ItemTemplate>
      </CollectionView>
    </ScrollView>

    <Button Grid.Row="2" 
            Text="Add to Diary"
            Command="{Binding AddFoodToDiaryCommand}"
            IsVisible="{Binding AddEntryMode}"/>

  </Grid>
</ContentPage>